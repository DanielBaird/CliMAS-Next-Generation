!function s(e,i,a){function n(o,p){if(!i[o]){if(!e[o]){var l="function"==typeof require&&require;if(!p&&l)return l(o,!0);if(t)return t(o,!0);throw new Error("Cannot find module '"+o+"'")}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(s){var i=e[o][1][s];return n(i?i:s)},c,c.exports,s,e,i,a)}return i[o].exports}for(var t="function"==typeof require&&require,o=0;o<a.length;o++)n(a[o]);return n}({1:[function(s){s("./menusandpanels"),s("./speciespanel"),$("nav > ul").mspp(),$("header").disableSelection()},{"./menusandpanels":2,"./speciespanel":3}],2:[function(){!function(s){s.widget("climas.mspp",{options:{animationFactor:2,mainMenuClass:"mspp-main-menu",panelClass:"mspp-panel",pageClass:"mspp-page",clearfixClass:"mspp-clearfix",activeClass:"current"},_create:function(){var e=this,i=this.element;this.mainMenuItems=i.children("li"),this.panels=s("."+this.options.panelClass),i.css({opacity:0}),this.panels.css({opacity:0}),i.addClass(this.options.mainMenuClass),i.addClass(this.options.clearfixClass),this.panels.addClass(this.options.clearfixClass),this._layoutMenu(),this._layoutPanels(),i.on("msppshowmenu",this._showMenu),i.on("msppshowsubmenu",this._showSubMenu),i.on("msppshowpanel",this._showPanel),i.on("msppshowpage",this._showPage),this.mainMenuItems.each(function(i,a){s(a).children("a").click(function(s){e._trigger("showmenu",s,{menuitem:a,widget:e})}),s(a).find("li").each(function(i,n){s(n).find("a").click(function(s){e._trigger("showsubmenu",s,{menuitem:a,submenuitem:n,widget:e})})})}),i.find("[data-targetpanel]").each(function(i,a){s(a).click(function(i){e._trigger("showpanel",i,{panel:s("#"+s(a).data("targetpanel")).first(),widget:e})})}),this.panels.each(function(i,a){var n=s(a);n.find("[data-targetpage]").click(function(i){e._trigger("showpage",i,{panel:n,page:s("#"+s(this).data("targetpage")),widget:e})})});var a=this.mainMenuItems.filter("."+this.options.activeClass);a.removeClass(this.options.activeClass).children("a").click(),i.animate({opacity:1},"fast")},_switchClassOption:function(s,e){var i=this.options[s];if(i!==e){var a=this.element.find("."+i);this.options[s]=e,a.removeClass(i),a.addClass(e)}},_setOption:function(s,e){switch(s){case"mainMenuClass":case"clearfixClass":case"activeClass":this._switchClassOption(s,e);break;default:this.options[s]=e}this._super("_setOption",s,e)},_destroy:function(){this.element.removeClass(this.options.mainMenuClass),this.element.removeClass(this.options.clearfixClass),this.panels.removeClass(this.options.clearfixClass)},_layoutMenu:function(){this.element.find("ul").each(function(e,i){var a=s(i);a.css({width:"auto"}),a.data("originalWidth",a.width()),a.css({width:0,display:"none"})})},_showMenu:function(e,i){var a=s(i.menuitem),n=i.widget;if(a.hasClass(n.options.activeClass));else{n._hidePanels(),n.mainMenuItems.removeClass(n.options.activeClass);var t=a.find("ul"),o=n.element.find("ul").not(t),p=t.data("originalWidth");o.animate({width:0},50*n.options.animationFactor,function(){o.css({display:"none"})}),a.addClass(n.options.activeClass),t.css({display:"block"}).animate({width:p},125*n.options.animationFactor,function(){t.css({width:"auto"}).removeAttr("style"),n._trigger("menushown",e,{item:a,widget:n})}),t.find("."+n.options.activeClass+" a").click()}},_showSubMenu:function(e,i){s(i.menuitem).find("li").removeClass(i.widget.options.activeClass),s(i.submenuitem).addClass(i.widget.options.activeClass)},_layoutPanels:function(){var e=this.panels.find("."+this.options.pageClass);e.each(function(e,i){var a=s(i);a.css({height:"auto"}),a.data("originalHeight",a.outerHeight()),a.css({height:0,display:"none"})}),this.panels.each(function(e,i){var a=s(i);a.css({display:"none"})})},_hidePanels:function(){this.panels.removeClass(this.options.activeClass).css({display:"none",height:0})},_showPanel:function(e,i){var a=s(i.panel),n=i.widget;if(a.hasClass(n.options.activeClass));else{n._hidePanels(),a.addClass(n.options.activeClass),a.css({display:"block",opacity:1});var t=s(a.find("."+n.options.pageClass+"."+n.options.activeClass));n._trigger("showpage",e,{panel:a,page:t,widget:n})}},_showPage:function(e,i){var a=i.widget,n=s(i.panel),t=s(i.page),o=t.data("originalHeight");n.css({height:n.height()});var p=n.find("."+a.options.pageClass+"."+a.options.activeClass).not(t);p.length>0&&(p.data("originalHeight",p.outerHeight()),p.removeClass(a.options.activeClass).fadeOut(50*a.options.animationFactor,function(){p.css({height:0})})),t.css({height:"auto"}).addClass(a.options.activeClass).fadeIn(100*a.options.animationFactor,function(){t.removeAttr("style")});var l=p.length>0?100*a.options.animationFactor:150*a.options.animationFactor;n.animate({height:o},l,function(){n.removeAttr("style")})},_:null})}(jQuery,window,document)},{}],3:[function(){!function(){var s=function(){$.inArray($("#speciesname").val(),a)>-1?$("#sppshowmap").removeClass("disabled").prop("disabled",!1):$("#sppshowmap").addClass("disabled").prop("disabled",!0)},e=function(){var s=$("input[name=spptimepoint]:checked");"baseline"===s.val()?($("input[name=sppscenario], input[name=sppgcm]").prop("disabled",!0),$("fieldset.sppscenario, fieldset.sppgcm").addClass("disabled")):($("input[name=sppscenario], input[name=sppgcm]").prop("disabled",!1),$("fieldset.sppscenario, fieldset.sppgcm").removeClass("disabled"))};speciesFetch=$.ajax({url:"/data/species"});var i=[],a=[];speciesFetch.done(function(s){i=[],a=[],$.each(s,function(s,e){a.push(s),e?$.each(e,function(e,a){i.push({label:a+" ("+s+")",value:s})}):i.push({label:s,value:s})}),$("#speciesname").autocomplete({source:i})}),$("#speciesname").on("autocompleteclose",function(){s()}),$("#speciesname").on("keyup",function(){s()}),$("#speciesname").on("change",function(){s()}),$("input[name=spptimepoint]").change(function(){e()}),s(),e(),$("#mapframe").load(function(){$("#map").animate({opacity:1},2500)}),$("#sppshowmap").click(function(){var s=$("#speciesname").val(),e=$("input[name=spptimepoint]:checked").val(),i=$("input[name=sppscenario]:checked").val(),a=$("input[name=sppgcm]:checked").val(),n=i+"_"+a+"_"+e;"baseline"===e&&(n="1990");var t="http://130.102.155.33:8080/"+s.replace(" ","_")+"/output/"+n+".tif";t=window.climasSettings.vizUrlPrefix+encodeURIComponent(t),$("#speciesshowingpage .speciesname").html(s),$("#map").animate({opacity:0},"fast",function(){$("#mapframe").attr("src",t)})})}()},{}]},{},[1]);