!function t(e,i,s){function n(o,l){if(!i[o]){if(!e[o]){var r="function"==typeof require&&require;if(!l&&r)return r(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var p=i[o]={exports:{}};e[o][0].call(p.exports,function(t){var i=e[o][1][t];return n(i?i:t)},p,p.exports,t,e,i,s)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<s.length;o++)n(s[o]);return n}({1:[function(t){t("./mapview/main"),t("./menusandpanels"),$(function(){$("nav > ul").mspp({})})},{"./mapview/main":2,"./menusandpanels":5}],2:[function(t){var e;window.console||(window.console={log:function(){return{}}}),e=t("./views/app"),$(function(){var t;return t=new e,t.render()})},{"./views/app":4}],3:[function(t,e){var i;i=Backbone.Model.extend({constructor:function(t,e,i){return this.shortName=t,this.longName=e,this.path=i,null}}),e.exports=i},{}],4:[function(t,e){var i,s;s=t("../models/maplayer"),i=Backbone.View.extend({events:{"change input[type=radio].rtype":"render","click #doit":"doIt"},initialize:function(){return this.mapLayer=new s("left","Left Map","left.map"),_.bindAll(this)},render:function(){var t;return t=this,this.$el.append(i.layout()),this.$el.append($('<button id="doit">do it</button>')),this.$el.append(i.preTemplate({stuff:"stuff goes here"})),$(".content").append(this.$el),this.map=L.map("map",{center:[51.505,-.09],zoom:13}),L.tileLayer("http://otile1.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.png",{maxZoom:18}).addTo(this.map)},doIt:function(){return this.$el.append(i.preTemplate({stuff:this.mapLayer.shortName}))}},{layout:_.template('<div id="map" style="width: 50%; height: 300px;"></div>'),preTemplate:_.template("<pre>\n    <%= stuff %>\n</pre>")}),e.exports=i},{"../models/maplayer":3}],5:[function(){!function(t){t.widget("climas.mspp",{options:{animationFactor:2,mainMenuClass:"mspp-main-menu",panelClass:"mspp-panel",pageClass:"mspp-page",clearfixClass:"mspp-clearfix",activeClass:"current"},_create:function(){var e=this,i=this.options,s=this.element;this.mainMenuItems=s.children("li"),this.panels=t("."+i.panelClass),s.css({opacity:0}),this.panels.css({opacity:0}),s.addClass(i.mainMenuClass),s.addClass(i.clearfixClass),this.panels.addClass(i.clearfixClass),this._layoutMenu(),this._layoutPanels(),s.on("msppshowmenu",this._showMenu),s.on("msppshowsubmenu",this._showSubMenu),s.on("msppshowpanel",this._showPanel),s.on("msppshowpage",this._showPage),this.mainMenuItems.each(function(i,s){t(s).children("a").click(function(t){e._trigger("showmenu",t,{menuitem:s,widget:e})}),t(s).find("li").each(function(i,n){t(n).find("a").click(function(t){e._trigger("showsubmenu",t,{menuitem:s,submenuitem:n,widget:e})})})}),s.find("[data-targetpanel]").each(function(i,s){var n=t(s);n.click(function(i){e._trigger("showpanel",i,{panel:t("#"+n.data("targetpanel")).first(),widget:e})})}),this.panels.each(function(i,s){var n=t(s);n.find("[data-targetpage]").click(function(i){e._trigger("showpage",i,{panel:n,page:t("#"+t(this).data("targetpage")),widget:e})})});var n=this.mainMenuItems.filter("."+i.activeClass);n.removeClass(i.activeClass).children("a").click(),s.animate({opacity:1},"fast")},_switchClassOption:function(t,e){var i=this.options[t];if(i!==e){var s=this.element.find("."+i);this.options[t]=e,s.removeClass(i),s.addClass(e)}},_setOption:function(t,e){switch(t){case"mainMenuClass":case"clearfixClass":case"activeClass":this._switchClassOption(t,e);break;default:this.options[t]=e}this._super("_setOption",t,e)},_destroy:function(){this.element.removeClass(this.options.mainMenuClass),this.element.removeClass(this.options.clearfixClass),this.panels.removeClass(this.options.clearfixClass)},_layoutMenu:function(){this.element.find("ul").each(function(e,i){var s=t(i);s.css({width:"auto"}),s.data("originalWidth",s.width()),s.css({width:0,display:"none"})})},_showMenu:function(e,i){var s=t(i.menuitem),n=i.widget;if(s.hasClass(n.options.activeClass));else{n._hidePanels(),n.mainMenuItems.removeClass(n.options.activeClass);var a=s.find("ul"),o=n.element.find("ul").not(a),l=a.data("originalWidth");o.animate({width:0},50*n.options.animationFactor,function(){o.css({display:"none"})}),s.addClass(n.options.activeClass),a.css({display:"block"}).animate({width:l},125*n.options.animationFactor,function(){a.css({width:"auto"}).removeAttr("style"),n._trigger("menushown",e,{item:s,widget:n})}),a.find("."+n.options.activeClass+" a").click()}},_showSubMenu:function(e,i){t(i.menuitem).find("li").removeClass(i.widget.options.activeClass),t(i.submenuitem).addClass(i.widget.options.activeClass)},_layoutPanels:function(){var e=this.panels.find("."+this.options.pageClass);e.each(function(e,i){var s=t(i);s.css({height:"auto"}),s.data("originalHeight",s.outerHeight()),s.css({height:0,display:"none"})}),this.panels.each(function(e,i){var s=t(i);s.css({display:"none"})})},_hidePanels:function(){this.panels.removeClass(this.options.activeClass).css({display:"none",height:0})},_showPanel:function(e,i){var s=t(i.panel),n=i.widget;if(s.hasClass(n.options.activeClass));else{n._hidePanels(),s.addClass(n.options.activeClass),s.css({display:"block",opacity:1});var a=t(s.find("."+n.options.pageClass+"."+n.options.activeClass));n._trigger("showpage",e,{panel:s,page:a,widget:n})}},_showPage:function(e,i){var s=i.widget,n=t(i.panel),a=t(i.page),o=a.data("originalHeight");n.css({height:n.height()});var l=n.find("."+s.options.pageClass+"."+s.options.activeClass).not(a);l.length>0&&(l.data("originalHeight",l.outerHeight()),l.removeClass(s.options.activeClass).fadeOut(50*s.options.animationFactor,function(){l.css({height:0})})),a.css({height:"auto"}).addClass(s.options.activeClass).fadeIn(100*s.options.animationFactor,function(){a.removeAttr("style")});var r=l.length>0?100*s.options.animationFactor:150*s.options.animationFactor;n.animate({height:o},r,function(){n.removeAttr("style")})},_:null})}(jQuery,window,document)},{}]},{},[1]);