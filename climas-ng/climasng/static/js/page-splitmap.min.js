!function t(i,e,s){function n(o,l){if(!e[o]){if(!i[o]){var r="function"==typeof require&&require;if(!l&&r)return r(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var p=e[o]={exports:{}};i[o][0].call(p.exports,function(t){var e=i[o][1][t];return n(e?e:t)},p,p.exports,t,i,e,s)}return e[o].exports}for(var a="function"==typeof require&&require,o=0;o<s.length;o++)n(s[o]);return n}({1:[function(t){t("./mapview/main"),t("./menusandpanels"),$(function(){$("nav > ul").mspp({})})},{"./mapview/main":2,"./menusandpanels":5}],2:[function(t){var i;window.console||(window.console={log:function(){return{}}}),i=t("./views/app"),$(function(){var t;return t=new i,t.render()})},{"./views/app":4}],3:[function(t,i){var e;e=Backbone.Model.extend({constructor:function(t,i,e){return this.shortName=t,this.longName=i,this.path=e,null}}),i.exports=e},{}],4:[function(t,i){var e,s;s=t("../models/maplayer"),e=Backbone.View.extend({tagName:"div",className:"splitmap",id:"splitmap",events:{"click #doit":"activateSplitter"},initialize:function(){return this.mapLayer=new s("left","Left Map","left.map"),_.bindAll(this),this.fetchSpeciesInfo()},render:function(){return this.$el.append(e.layout()),$("#contentwrap").append(this.$el),this.map=L.map("map",{center:[-20,136],zoom:5}),L.tileLayer("http://otile1.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.png",{maxZoom:18}).addTo(this.map),this.leftForm=this.$el.find(".left.form"),this.buildLeftForm(this.leftForm),this.leftTag=this.$el.find(".left.tag"),this.rightTag=this.$el.find(".right.tag"),this.splitLine=this.$el.find(".splitline"),this.splitThumb=this.$el.find(".splitthumb")},fetchSpeciesInfo:function(){return $.ajax({url:"/data/species"}).done(function(t){return function(i){var e,s;return e=[],s=[],$.each(i,function(t,i){return s.push(t),i?$.each(i,function(i,s){return e.push({label:s+" ("+t+")",value:t})}):e.push({label:t,value:t})}),t.speciesLookupList=e,t.speciesSciNameList=s}}(this))},buildLeftForm:function(t){return t.append(e.leftForm()),this.speciesLookupList?this.$el.find("#speciesname").autocomplete({source:this.speciesLookupList}):void 0},startSplitterTracking:function(){return this.splitterTrackId&&this.stopSplitterTracking(),this.splitterTrackId=setInterval(function(t){return function(){return t.resizeThings()}}(this),200),!0},stopSplitterTracking:function(){return clearInterval(this.splitterTrackId),this.resizeThings},activateSplitter:function(){return this.splitThumb.draggable({containment:this.$el,scroll:!1,start:this.startSplitterTracking,drag:this.resizeThings,stop:this.stopSplitterTracking}),this.resizeThings(),this.splitLine.addClass("active"),this.splitThumb.addClass("active")},deactivateSplitter:function(){return this.splitThumb.removeClass("active"),this.splitLine.removeClass("active"),this.splitThumb.draggable("destroy")},resizeThings:function(){var t;return t=this.splitThumb.position().left+this.splitThumb.width()/2,this.splitLine.css("left",t),this.leftTag.css("clip","rect(0 "+t+"px auto 0)")}},{layout:_.template('<div class="splitline"></div>\n<div class="splitthumb"><span>&#x276e; &#x276f;</span></div>\n<div class="left tag">left tag<button id="doit">do it</button></div>\n<div class="right tag">right tag</div>\n<div class="left form"></div>\n<div id="mapwrapper"><div id="map"></div></div>'),leftForm:_.template('<input id="speciesname" name="speciesname" placeholder="&hellip; type a species name &hellip;" />')}),i.exports=e},{"../models/maplayer":3}],5:[function(){!function(t){t.widget("climas.mspp",{options:{animationFactor:2,mainMenuClass:"mspp-main-menu",panelClass:"mspp-panel",pageClass:"mspp-page",clearfixClass:"mspp-clearfix",activeClass:"current"},_create:function(){var i=this,e=this.options,s=this.element;this.mainMenuItems=s.children("li"),this.panels=t("."+e.panelClass),s.css({opacity:0}),this.panels.css({opacity:0}),s.addClass(e.mainMenuClass),s.addClass(e.clearfixClass),this.panels.addClass(e.clearfixClass),this._layoutMenu(),this._layoutPanels(),s.on("msppshowmenu",this._showMenu),s.on("msppshowsubmenu",this._showSubMenu),s.on("msppshowpanel",this._showPanel),s.on("msppshowpage",this._showPage),this.mainMenuItems.each(function(e,s){t(s).children("a").click(function(t){i._trigger("showmenu",t,{menuitem:s,widget:i})}),t(s).find("li").each(function(e,n){t(n).find("a").click(function(t){i._trigger("showsubmenu",t,{menuitem:s,submenuitem:n,widget:i})})})}),s.find("[data-targetpanel]").each(function(e,s){var n=t(s);n.click(function(e){i._trigger("showpanel",e,{panel:t("#"+n.data("targetpanel")).first(),widget:i})})}),this.panels.each(function(e,s){var n=t(s);n.find("[data-targetpage]").click(function(e){i._trigger("showpage",e,{panel:n,page:t("#"+t(this).data("targetpage")),widget:i})})});var n=this.mainMenuItems.filter("."+e.activeClass);n.removeClass(e.activeClass).children("a").click(),s.animate({opacity:1},"fast")},_switchClassOption:function(t,i){var e=this.options[t];if(e!==i){var s=this.element.find("."+e);this.options[t]=i,s.removeClass(e),s.addClass(i)}},_setOption:function(t,i){switch(t){case"mainMenuClass":case"clearfixClass":case"activeClass":this._switchClassOption(t,i);break;default:this.options[t]=i}this._super("_setOption",t,i)},_destroy:function(){this.element.removeClass(this.options.mainMenuClass),this.element.removeClass(this.options.clearfixClass),this.panels.removeClass(this.options.clearfixClass)},_layoutMenu:function(){this.element.find("ul").each(function(i,e){var s=t(e);s.css({width:"auto"}),s.data("originalWidth",s.width()),s.css({width:0,display:"none"})})},_showMenu:function(i,e){var s=t(e.menuitem),n=e.widget;if(s.hasClass(n.options.activeClass));else{n._hidePanels(),n.mainMenuItems.removeClass(n.options.activeClass);var a=s.find("ul"),o=n.element.find("ul").not(a),l=a.data("originalWidth");o.animate({width:0},50*n.options.animationFactor,function(){o.css({display:"none"})}),s.addClass(n.options.activeClass),a.css({display:"block"}).animate({width:l},125*n.options.animationFactor,function(){a.css({width:"auto"}).removeAttr("style"),n._trigger("menushown",i,{item:s,widget:n})}),a.find("."+n.options.activeClass+" a").click()}},_showSubMenu:function(i,e){t(e.menuitem).find("li").removeClass(e.widget.options.activeClass),t(e.submenuitem).addClass(e.widget.options.activeClass)},_layoutPanels:function(){var i=this.panels.find("."+this.options.pageClass);i.each(function(i,e){var s=t(e);s.css({height:"auto"}),s.data("originalHeight",s.outerHeight()),s.css({height:0,display:"none"})}),this.panels.each(function(i,e){var s=t(e);s.css({display:"none"})})},_hidePanels:function(){this.panels.removeClass(this.options.activeClass).css({display:"none",height:0})},_showPanel:function(i,e){var s=t(e.panel),n=e.widget;if(s.hasClass(n.options.activeClass));else{n._hidePanels(),s.addClass(n.options.activeClass),s.css({display:"block",opacity:1});var a=t(s.find("."+n.options.pageClass+"."+n.options.activeClass));n._trigger("showpage",i,{panel:s,page:a,widget:n})}},_showPage:function(i,e){var s=e.widget,n=t(e.panel),a=t(e.page),o=a.data("originalHeight");n.css({height:n.height()});var l=n.find("."+s.options.pageClass+"."+s.options.activeClass).not(a);l.length>0&&(l.data("originalHeight",l.outerHeight()),l.removeClass(s.options.activeClass).fadeOut(50*s.options.animationFactor,function(){l.css({height:0})})),a.css({height:"auto"}).addClass(s.options.activeClass).fadeIn(100*s.options.animationFactor,function(){a.removeAttr("style")});var r=l.length>0?100*s.options.animationFactor:150*s.options.animationFactor;n.animate({height:o},r,function(){n.removeAttr("style")})},_:null})}(jQuery,window,document)},{}]},{},[1]);